# MindSPONGE

- [Description](#Description)
- [Dataset](#Dataset)
- [Environment Requirements](#Environment-Requirements)
- [Quick Start](#Quick-Start)
- [Script Description](#Script-Description)
    - [Script and Sample Code](#Script-and-Sample-Code)
    - [Simulation Process](#Simulation-Process)
- [Result](#Result)

## Description

MindSPONGE implemented functions for molecular modeling and many simulation cases in biology，material and drug designing, which are not only simulated in traditional molecular simulation method, but also in AI method. Your contribution and attention are very important to us!

The following example demonstrates how to perform high-performance molecular dynamics simulations with the built-in MindSPONGE module on a `GPU`.

## Dataset

There are three inputs in the example, the property file `NVT_290_10ns.in`, the topology file `WATER_ALA.parm7` and the coordinates file `WATER_ALA_350_cool_290.rst7`, respectivelly. They are stored in `data/polypeptide`.

![ALA Aqueous System](https://images.gitee.com/uploads/images/2021/0323/184453_4bd9b1a6_8142020.png "图片1.png")

The topology file and coordinates file can be generated by `tleap` in `AmberTools` ([link](<http://ambermd.org/GetAmber.php>)). For more details, please refer to:

- [MindSPONGE Tutorial](https://gitee.com/mindspore/mindscience/blob/master/MindSPONGE/examples/)

## Environment Requirements

- Hardware: `GPU`
    - Prepare a hardware environment with `GPU`.
- Framework
    - [MindSpore](https://www.mindspore.cn/install/en)
- For more information, visit the resources below:
    - [MindSPONGE Tutorials](https://gitee.com/mindspore/mindscience/tree/master/MindSPONGE/mindsponge/examples)
    - [MindSpore Python API](https://www.mindspore.cn/docs/api/en/master/index.html)

## Quick Start

After installing MindSpore, go to ../examples/polypeptide/src/ folder, run the following command:

```shell
python main.py --i /path/NVT_290_10ns.in \
               --amber_parm /path/WATER_ALA.parm7 \
               --c /path/WATER_ALA_350_cool_290.rst7 \
               --o /path/ala_NVT_290_10ns.out
```

`path` is the path which stores input files. In this case, they are stored in `data/polypeptide`.

## Script Description

### Script and Sample Code

```shell
|-- README.md
|-- README_CN.md
|-- mindsponge_numpy.md
|-- claisen_rearrangement
|   |-- data
|   |-- src
|       |-- main.py
|       |-- simulation_cybertron.py
|-- covid
|   |-- data
|   |   |-- deltaace2.parm7
|   |   |-- deltaace2.rst7
|   |   |-- s1ace2.parm7
|   |   |-- s1ace2.rst7
|   |-- scripts
|   |   |-- run_covid.sh
|   |-- src
|       |-- main.py
|       |-- run_npt.py
|-- polypeptide
    |-- README_CN.md
    |-- data
    |   |-- NVT_290_10ns.in
    |   |-- WATER_ALA.parm7
    |   |-- WATER_ALA_350_cool_290.rst7
    |-- scripts
    |   |-- run.sh
    |-- src
        |-- main.py
```

## Result

After training, the following results are stored in `ala_NVT_290_10ns.out`:

```text
_steps_ _TEMP_ _TOT_POT_ENE_ _BOND_ENE_ _ANGLE_ENE_ _DIHEDRAL_ENE_ _14LJ_ENE_ _14CF_ENE_ _LJ_ENE_ _CF_PME_ENE_
      1 0.788   -5836.521         48.745       0.891         14.904      9.041    194.479  763.169    -6867.750
   ...
```

There are sorts of energy in the output, steps (_steps_), temperature (_TEMP_), total energy (_TOT_POT_E_), bond energy (_BOND_ENE_), angle energy (_ANGLE_ENE_), dihedral energy (_DIHEDRAL_ENE_), non-bond energy, includes Coulomb force (_14CF_ENE_) and Lennard-Jones energy (_14LJ_ENE_), Van der Waals energy (_LJ_ENE_) and Coulomb force in PME (_CF_PME_ENE_).
